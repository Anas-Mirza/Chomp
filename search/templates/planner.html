<h1>Planner</h1>

<ul id="recipes-to-plan" class="connected-list">
    <lh class="cancel-sort">To Plan</lh>
    {% for recipe in recipes.planning %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}

</ul>

<ul id="monday" class="connected-list">
    <lh class="cancel-sort">Monday</lh>
    {% for recipe in recipes.monday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<ul id="tuesday" class="connected-list">
    <lh class="cancel-sort">Tuesday</lh>
    {% for recipe in recipes.tuesday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<ul id="wednesday" class="connected-list">
    <lh class="cancel-sort">Wednesday</lh>
    {% for recipe in recipes.wednesday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
    <li style="visibility:hidden;"></li>
</ul>

<ul id="thursday" class="connected-list">
    <lh class="cancel-sort">Thursday</lh>
    {% for recipe in recipes.thursday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<ul id="friday" class="connected-list">
    <lh class="cancel-sort">Friday</lh>
    {% for recipe in recipes.friday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<ul id="saturday" class="connected-list">
    <lh class="cancel-sort">Saturday</lh>
    {% for recipe in recipes.saturday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<ul id="sunday" class="connected-list">
    <lh class="cancel-sort">Sunday</lh>
    {% for recipe in recipes.sunday %}
        <li id="{{recipe.id}}" class="connected-list-item">
        <img src="{{recipe.lil_img}}"><br>
        {{ recipe.name }}
        </li>
    {% endfor %}
</ul>

<script>
$(function () {
    var sections = ['recipes-to-plan', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
    for (var i = 0; i < sections.length; i++) {
        var selector = '#' + sections[i];
        $(selector).sortable({
            connectWith: '.connected-list',
            items: 'li',
            placeholder: 'connected-list-item',
            update: function(event, ui) {
                var recipe_id = ui.item.attr('id');
                var day = ui.item.parent().attr('id');
                $.get("/update_planner/?recipe_id=" + recipe_id + "&day=" + day);
            }
        });
    }
});

</script>