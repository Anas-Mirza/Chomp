<h1>Search Recipes</h1>
<form id="search_form">
    <input name="search_keyword_text" id="search_box" placeholder="Search for recipes">
    <button type="submit" id="search_button" class="btn btn-primary">Search</button>
</form> 

<div id="search_results">
    {% for recipe in recipe_list %}
        <div class="col-xs-4"><img src="{{recipe.lil_img}}">
        <button type="submit" class="btn btn-primary" id="{{forloop.counter}}">{{recipe.name}}</input>
        </div>

        <script>

        function showRecipeDetails(evt) {
            evt.preventDefault();
            var recipe_id = "{{recipe.id}}";
            $("#content").load("/recipe/"+recipe_id);
        };

        $("#{{forloop.counter}}").on('click', showRecipeDetails);

        </script>
    {% endfor %}

</div>
<br>
<nav>
    <ul class="pagination">
        <li>
            <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li><a href="#" id="link-1">1</a></li>
        <li><a href="#" id="link-2">2</a></li>
        <li><a href="#" id="link-3">3</a></li>
        <li><a href="#" id="link-4">4</a></li>
        <li>
            <a href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>


<script>
function showSearchResults(evt) {
    evt.preventDefault();
    var params = $("#search_form").serialize();
    $("#content").load("search/", params 
    );
};

function showMore(evt) {
    evt.preventDefault();
    var page = evt.data.page;
    $("#content").load("search/?page=" + page);
}

$("#search_form").on('submit', showSearchResults);


$("#link-1").on( 'click', {
    page: "1"
}, showMore );

$("#link-2").on( 'click', {
    page: "2"
}, showMore );

$("#link-3").on( 'click', {
    page: "3"
}, showMore );

$("#link-4").on( 'click', {
    page: "4"
}, showMore );

</script>